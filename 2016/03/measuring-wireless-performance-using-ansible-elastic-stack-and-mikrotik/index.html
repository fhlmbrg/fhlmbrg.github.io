<!DOCTYPE html>

<html lang="en-US">

	<head>
		
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" >
				
				 
		<title>Measuring wireless performance using Ansible, Elastic Stack and MikroTik &#8211; Fredrik Holmberg</title>
<link rel='dns-prefetch' href='//w.sharethis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Fredrik Holmberg &raquo; Feed" href="/feed/" />
<link rel="alternate" type="application/rss+xml" title="Fredrik Holmberg &raquo; Comments Feed" href="/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Fredrik Holmberg &raquo; Measuring wireless performance using Ansible, Elastic Stack and MikroTik Comments Feed" href="/2016/03/measuring-wireless-performance-using-ansible-elastic-stack-and-mikrotik/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.3"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='hemingway_googleFonts-css'  href='//fonts.googleapis.com/css?family=Lato%3A400%2C700%2C400italic%2C700italic%7CRaleway%3A700%2C400&#038;ver=4.7.3' type='text/css' media='all' />
<link rel='stylesheet' id='hemingway_style-css'  href='/wp-content/themes/hemingway/style.css?ver=4.7.3' type='text/css' media='all' />
<script id='st_insights_js' type='text/javascript' src='http://w.sharethis.com/button/st_insights.js?publisher=4d48b7c5-0ae3-43d4-bfbe-3ff8c17a8ae6&#038;product=simpleshare'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='GNSparser, now on Bitbucket' href='/2014/04/gnsparser-now-on-bitbucket/' />
<link rel='next' title='On-demand Juniper labs using Vagrant' href='/2016/04/on-demand-juniper-labs-using-vagrant/' />
<meta name="generator" content="WordPress 4.7.3" />
<link rel="canonical" href="/2016/03/measuring-wireless-performance-using-ansible-elastic-stack-and-mikrotik/" />
<link rel='shortlink' href='/?p=6' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2F2016%2F03%2Fmeasuring-wireless-performance-using-ansible-elastic-stack-and-mikrotik%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2F2016%2F03%2Fmeasuring-wireless-performance-using-ansible-elastic-stack-and-mikrotik%2F&#038;format=xml" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76156585-1', 'auto');
  ga('send', 'pageview');

</script><script>(function(d, s, id){
                 var js, fjs = d.getElementsByTagName(s)[0];
                 if (d.getElementById(id)) {return;}
                 js = d.createElement(s); js.id = id;
                 js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6";
                 fjs.parentNode.insertBefore(js, fjs);
               }(document, 'script', 'facebook-jssdk'));</script><style type="text/css">	.ssba {
									padding: 50px;
									
									
									
								}
								.ssba img
								{
									width: 40px !important;
									padding: 5px;
									border:  0;
									box-shadow: none !important;
									display: inline !important;
									vertical-align: middle;
								}
								.ssba, .ssba a
								{
									text-decoration:none;
									border:0;
									background: none;
									
									font-size: 	20px;
									
									font-weight: normal;
								}
								</style>      
	      <!--Customizer CSS--> 
	      
	      <style type="text/css">
	           body::selection { background:#0087a3; }	           body a { color:#0087a3; }	           body a:hover { color:#0087a3; }	           .blog-title a:hover { color:#0087a3; }	           .blog-menu a:hover { color:#0087a3; }	           .blog-search #searchsubmit { background-color:#0087a3; }	           .blog-search #searchsubmit { border-color:#0087a3; }	           .blog-search #searchsubmit:hover { background-color:#0087a3; }	           .blog-search #searchsubmit:hover { border-color:#0087a3; }	           .featured-media .sticky-post { background-color:#0087a3; }	           .post-title a:hover { color:#0087a3; }	           .post-meta a:hover { color:#0087a3; }	           .post-content a { color:#0087a3; }	           .post-content a:hover { color:#0087a3; }	           .blog .format-quote blockquote cite a:hover { color:#0087a3; }	           .post-content a.more-link:hover { background-color:#0087a3; }	           .post-content input[type="submit"]:hover { background-color:#0087a3; }	           .post-content input[type="reset"]:hover { background-color:#0087a3; }	           .post-content input[type="button"]:hover { background-color:#0087a3; }	           .post-content fieldset legend { background-color:#0087a3; }	           .post-content .searchform #searchsubmit { background:#0087a3; }	           .post-content .searchform #searchsubmit { border-color:#0087a3; }	           .post-content .searchform #searchsubmit:hover { background:#0087a3; }	           .post-content .searchform #searchsubmit:hover { border-color:#0087a3; }	           .post-categories a { color:#0087a3; }	           .post-categories a:hover { color:#0087a3; }	           .post-tags a:hover { background:#0087a3; }	           .post-tags a:hover:after { border-right-color:#0087a3; }	           .post-nav a:hover { color:#0087a3; }	           .archive-nav a:hover { color:#0087a3; }	           .logged-in-as a { color:#0087a3; }	           .logged-in-as a:hover { color:#0087a3; }	           .content #respond input[type="submit"]:hover { background-color:#0087a3; }	           .comment-meta-content cite a:hover { color:#0087a3; }	           .comment-meta-content p a:hover { color:#0087a3; }	           .comment-actions a:hover { color:#0087a3; }	           #cancel-comment-reply-link { color:#0087a3; }	           #cancel-comment-reply-link:hover { color:#0087a3; }	           .comment-nav-below a:hover { color:#0087a3; }	           .widget-title a { color:#0087a3; }	           .widget-title a:hover { color:#0087a3; }	           .widget_text a { color:#0087a3; }	           .widget_text a:hover { color:#0087a3; }	           .widget_rss a { color:#0087a3; }	           .widget_rss a:hover { color:#0087a3; }	           .widget_archive a { color:#0087a3; }	           .widget_archive a:hover { color:#0087a3; }	           .widget_meta a { color:#0087a3; }	           .widget_meta a:hover { color:#0087a3; }	           .widget_recent_comments a { color:#0087a3; }	           .widget_recent_comments a:hover { color:#0087a3; }	           .widget_pages a { color:#0087a3; }	           .widget_pages a:hover { color:#0087a3; }	           .widget_links a { color:#0087a3; }	           .widget_links a:hover { color:#0087a3; }	           .widget_recent_entries a { color:#0087a3; }	           .widget_recent_entries a:hover { color:#0087a3; }	           .widget_categories a { color:#0087a3; }	           .widget_categories a:hover { color:#0087a3; }	           .widget_search #searchsubmit { background:#0087a3; }	           .widget_search #searchsubmit { border-color:#0087a3; }	           .widget_search #searchsubmit:hover { background:#0087a3; }	           .widget_search #searchsubmit:hover { border-color:#0087a3; }	           #wp-calendar a { color:#0087a3; }	           #wp-calendar a:hover { color:#0087a3; }	           #wp-calendar tfoot a:hover { color:#0087a3; }	           .dribbble-shot:hover { background:#0087a3; }	           .widgetmore a { color:#0087a3; }	           .widgetmore a:hover { color:#0087a3; }	           .flickr_badge_image a:hover img { background:#0087a3; }	           .footer .flickr_badge_image a:hover img { background:#0087a3; }	           .footer .dribbble-shot:hover img { background:#0087a3; }	           .sidebar .tagcloud a:hover { background:#0087a3; }	           .footer .tagcloud a:hover { background:#0087a3; }	           .credits a:hover { color:#0087a3; }	           
	           body#tinymce.wp-editor a { color:#0087a3; }	           body#tinymce.wp-editor a:hover { color:#0087a3; }	      </style> 
	      
	      <!--/Customizer CSS-->
	      
      <style type="text/css" id="custom-background-css">
body.custom-background { background-color: #ffffff; }
</style>
<link rel="icon" href="/wp-content/uploads/2016/04/cropped-2601-32x32.png" sizes="32x32" />
<link rel="icon" href="/wp-content/uploads/2016/04/cropped-2601-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="/wp-content/uploads/2016/04/cropped-2601-180x180.png" />
<meta name="msapplication-TileImage" content="/wp-content/uploads/2016/04/cropped-2601-270x270.png" />
	
	</head>
	
	<body class="post-template-default single single-post postid-6 single-format-standard custom-background">
	
		<div class="big-wrapper">
	
			<div class="header-cover section bg-dark-light no-padding">
		
				<div class="header section" style="background-image: url(/wp-content/uploads/2016/08/cropped-IMG_8789-3.jpg);">
							
					<div class="header-inner section-inner">
					
											
							<div class="blog-info">
	
								<h2 class="blog-title">
									<a href="/" title="Fredrik Holmberg &mdash; Network Consultant" rel="home">Fredrik Holmberg</a>
								</h2>
								
																
									<h3 class="blog-description">Network Consultant&nbsp;&nbsp;<img src="http://abs.twimg.com/emoji/v1/72x72/2601.png" height="20" width="20">  <img src="http://abs.twimg.com/emoji/v1/72x72/26a1.png" height="20" width="20">
</h3>
									
															
							</div> <!-- /blog-info -->
							
															
					</div> <!-- /header-inner -->
								
				</div> <!-- /header -->
			
			</div> <!-- /bg-dark -->
			
			<div class="navigation section no-padding bg-dark">
			
				<div class="navigation-inner section-inner">
				
					<div class="toggle-container hidden">
			
						<div class="nav-toggle toggle">
								
							<div class="bar"></div>
							<div class="bar"></div>
							<div class="bar"></div>
							
							<div class="clear"></div>
						
						</div>
						
						<div class="search-toggle toggle">
								
							<div class="metal"></div>
							<div class="glass"></div>
							<div class="handle"></div>
						
						</div>
						
						<div class="clear"></div>
					
					</div> <!-- /toggle-container -->
					
					<div class="blog-search hidden">
					
						<form method="get" class="searchform" action="/">
	<input type="search" value="" placeholder="Search form" name="s" id="s" /> 
	<input type="submit" id="searchsubmit" value="Search">
</form>					
					</div>
				
					<ul class="blog-menu">
					
						<li id="menu-item-105" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-105"><a href="/">Blog</a></li>
<li id="menu-item-350" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-350"><a href="/consulting/">Consulting Services</a></li>
						
						<div class="clear"></div>
												
					 </ul>
					 
					 <ul class="mobile-menu">
					
						<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-105"><a href="/">Blog</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-350"><a href="/consulting/">Consulting Services</a></li>
						
					 </ul>
				 
				</div> <!-- /navigation-inner -->
				
			</div> <!-- /navigation -->
<div class="wrapper section-inner">

	<div class="content left">
												        
				
			<div class="posts">
		
				<div id="post-6" class="post-6 post type-post status-publish format-standard hentry category-ansible category-automation category-elastic-stack category-mikrotik tag-ansible tag-automation tag-elastic-stack tag-mikrotik">
	
					<div class="post-header">

												
												
					    <h1 class="post-title"><a href="/2016/03/measuring-wireless-performance-using-ansible-elastic-stack-and-mikrotik/" rel="bookmark" title="Measuring wireless performance using Ansible, Elastic Stack and MikroTik">Measuring wireless performance using Ansible, Elastic Stack and MikroTik</a></h1>
					    
					    <div class="post-meta">
						
							<span class="post-date"><a href="/2016/03/measuring-wireless-performance-using-ansible-elastic-stack-and-mikrotik/" title="Measuring wireless performance using Ansible, Elastic Stack and MikroTik">March 29, 2016</a></span>
							
							<span class="date-sep"> / </span>
								
							<span class="post-author"><a href="/author/holmahenkel/" title="Posts by Fredrik Holmberg" rel="author">Fredrik Holmberg</a></span>
							
							<span class="date-sep"> / </span>
							
							<a href="/2016/03/measuring-wireless-performance-using-ansible-elastic-stack-and-mikrotik/#respond"><span class="comment">0 Comments</span></a>							
																				
						</div>
					    
					</div> <!-- /post-header -->
														                                    	    
					<div class="post-content">
						    		            			            	                                                                                            
						<p style="text-align: left;">Recently I got a fun challenge handed to me where the scenario was to use 20 MikroTik access points to continuously measure wireless throughput for clients in a large arena. The collected metrics could then be used as a baseline component and indicator of a good or bad wireless user experience.</p>
<p style="text-align: left;">The MikroTik model chosen was the &#8220;hAP ac lite&#8221; or <a href="http://routerboard.com/RB952Ui-5ac2nD" target="_blank">RB952Ui-5ac2nD</a> which supports 2.4Ghz and 5GHz (802.11 a/b/g/n/ac). Their OS, RouterOS, supports lots of security, wireless and routing <a href="http://wiki.mikrotik.com/wiki/Manual:RouterOS_features" target="_blank">features</a> to play with. All this for a price tag of around 50 USD. Sweet!</p>
<p style="text-align: left;">To solve this challenge we need some way to execute actions on the MikroTik, then extract that output data into some useful format which we then can analyze and store. Then scale this up to <i>n</i> devices and repeat indefinitely.</p>
<p style="text-align: left;"><span id="more-6"></span></p>
<p style="text-align: left;">Since I&#8217;m not a hard-core programmer able to hack out a solution in <a href="https://golang.org/" target="_blank">golang</a> during breakfast, I&#8217;ll go with using the tools I&#8217;m familiar with, namely <a href="https://www.ansible.com/" target="_blank">Ansible</a> and <a href="https://www.elastic.co/" target="_blank">Elastic Stack</a>. Ansible is a tool to perform system/server/network automation using a set of tasks then executing these on a group of hosts. Elastic Stack is a collection of tools allowing you to retrieve, store and visualize data.</p>
<p style="text-align: left;">Here is a visual representation of how these components would work together:</p>
<div style="text-align: left;"></div>
<div style="text-align: left;">
<div id="attachment_30" style="width: 412px" class="wp-caption aligncenter"><img class="wp-image-30 size-full" src="http://104.196.36.32/wp-content/uploads/2016/03/Ansible_MikroTik-2.png" alt="Flow" width="402" height="435" srcset="/wp-content/uploads/2016/03/Ansible_MikroTik-2.png 402w, /wp-content/uploads/2016/03/Ansible_MikroTik-2-277x300.png 277w" sizes="(max-width: 402px) 100vw, 402px" /><p class="wp-caption-text">Splunk was already being used for data storage, so why not have Ansible spread the love and send JSON to both services simultaneously. The more the merrier!</p></div>
</div>
<p style="text-align: left;">First we need to have all of the nodes at a certain configuration level.</p>
<p style="clear: both; text-align: left;"><b>Setup.yml:</b><!-- HTML generated using hilite.me --></p>
<div style="background: #f8f8f8; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;"> - hosts: mt-setup
   gather_facts: no
   connection: paramiko

   tasks:
     - name: Create the bwtest user allowing access from Ansible
       raw: <span style="color: #bb4444;">"/user</span> <span style="color: #bb4444;">add</span> <span style="color: #bb4444;">name=bwtest</span> <span style="color: #bb4444;">group=full</span> <span style="color: #bb4444;">password=\"bwpass\"</span> <span style="color: #bb4444;">address=11.22.33.44/32"</span>

     - name: Temporary static route for bandwidth-server if needed
       raw: <span style="color: #bb4444;">":if</span> <span style="color: #bb4444;">(([:len</span> <span style="color: #bb4444;">[/ip</span> <span style="color: #bb4444;">route</span> <span style="color: #bb4444;">find</span> <span style="color: #bb4444;">where</span> <span style="color: #bb4444;">comment=bwtest]])</span> <span style="color: #bb4444;">&lt;</span> <span style="color: #bb4444;">1)</span> <span style="color: #bb4444;">do={/ip</span> <span style="color: #bb4444;">route</span> <span style="color: #bb4444;">add</span> <span style="color: #bb4444;">dst-address=55.66.77.88/32</span> <span style="color: #bb4444;">gateway=1.1.1.1</span> <span style="color: #bb4444;">comment=bwtest}"</span>

     - name: Wireless 2.4Ghz setup
       raw: <span style="color: #bb4444;">"/interface</span> <span style="color: #bb4444;">wireless</span> <span style="color: #bb4444;">set</span> <span style="color: #bb4444;">[</span> <span style="color: #bb4444;">find</span> <span style="color: #bb4444;">default-name=wlan1</span> <span style="color: #bb4444;">]</span> <span style="color: #bb4444;">disabled=no</span> <span style="color: #bb4444;">distance=indoors</span> <span style="color: #bb4444;">frequency=auto</span> <span style="color: #bb4444;">ssid=\"2GHz</span> <span style="color: #bb4444;">SSID\"</span> <span style="color: #bb4444;">wireless-protocol=802.11</span> <span style="color: #bb4444;">bridge-mode=disabled</span> <span style="color: #bb4444;">mode=station"</span>

     - name: Wireless 5GHz setup
       raw: <span style="color: #bb4444;">"/interface</span> <span style="color: #bb4444;">wireless</span> <span style="color: #bb4444;">set</span> <span style="color: #bb4444;">[</span> <span style="color: #bb4444;">find</span> <span style="color: #bb4444;">default-name=wlan2</span> <span style="color: #bb4444;">]</span> <span style="color: #bb4444;">band=5ghz-a/n</span> <span style="color: #bb4444;">disabled=no</span> <span style="color: #bb4444;">distance=indoors</span> <span style="color: #bb4444;">frequency=auto</span> <span style="color: #bb4444;">ssid=\"5GHz</span> <span style="color: #bb4444;">SSID\"</span> <span style="color: #bb4444;">wireless-protocol=802.11</span> <span style="color: #bb4444;">bridge-mode=disabled</span> <span style="color: #bb4444;">mode=station"</span>

     - name: Disable 2.4 GHz wlan bridge interface
       raw: <span style="color: #bb4444;">"/interface</span> <span style="color: #bb4444;">bridge</span> <span style="color: #bb4444;">port</span> <span style="color: #bb4444;">disable</span> <span style="color: #bb4444;">[/interface</span> <span style="color: #bb4444;">bridge</span> <span style="color: #bb4444;">port</span> <span style="color: #bb4444;">find</span> <span style="color: #bb4444;">where</span> <span style="color: #bb4444;">interface=wlan1]"</span>

     - name: Disable 5GHz wlan bridge interface
       raw: <span style="color: #bb4444;">"/interface</span> <span style="color: #bb4444;">bridge</span> <span style="color: #bb4444;">port</span> <span style="color: #bb4444;">disable</span> <span style="color: #bb4444;">[/interface</span> <span style="color: #bb4444;">bridge</span> <span style="color: #bb4444;">port</span> <span style="color: #bb4444;">find</span> <span style="color: #bb4444;">where</span> <span style="color: #bb4444;">interface=wlan2]"</span>

     - name: DHCP client settings 2.4GHz
       raw: <span style="color: #bb4444;">":if</span> <span style="color: #bb4444;">(([:len</span> <span style="color: #bb4444;">[/ip</span> <span style="color: #bb4444;">dhcp-client</span> <span style="color: #bb4444;">find</span> <span style="color: #bb4444;">where</span> <span style="color: #bb4444;">interface=wlan1]])</span> <span style="color: #bb4444;">&lt;</span> <span style="color: #bb4444;">1)</span> <span style="color: #bb4444;">do={/ip</span> <span style="color: #bb4444;">dhcp-client</span> <span style="color: #bb4444;">add</span> <span style="color: #bb4444;">add-default-route=no</span> <span style="color: #bb4444;">dhcp-options=hostname,clientid</span> <span style="color: #bb4444;">disabled=no</span> <span style="color: #bb4444;">interface=wlan1}"</span>

     - name: DHCP client settings 5GHz
       raw: <span style="color: #bb4444;">":if</span> <span style="color: #bb4444;">(([:len</span> <span style="color: #bb4444;">[/ip</span> <span style="color: #bb4444;">dhcp-client</span> <span style="color: #bb4444;">find</span> <span style="color: #bb4444;">where</span> <span style="color: #bb4444;">interface=wlan2]])</span> <span style="color: #bb4444;">&lt;</span> <span style="color: #bb4444;">1)</span> <span style="color: #bb4444;">do={/ip</span> <span style="color: #bb4444;">dhcp-client</span> <span style="color: #bb4444;">add</span> <span style="color: #bb4444;">add-default-route=no</span> <span style="color: #bb4444;">dhcp-options=hostname,clientid</span> <span style="color: #bb4444;">disabled=no</span> <span style="color: #bb4444;">interface=wlan2}"</span>
</pre>
</div>
<div style="clear: both; text-align: left;"></div>
<div style="clear: both; text-align: left;"></div>
<p><!-- HTML generated using hilite.me --></p>
<p>We now have all the MikroTiks configured with two active wireless interfaces, DHCP client running on both interfaces and a user for Ansible to continue its work.</p>
<p>Then it&#8217;s time to perform the actual performance testing and data collection.</p>
<p><b>Benchmark.yml:</b><br />
<!-- HTML generated using hilite.me --></p>
<div style="background: #f8f8f8; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;"> - hosts: mt-prod
   gather_facts: no
   connection: paramiko

   vars:
     tikhost: <span style="color: #bb4444;">"{{</span> <span style="color: #bb4444;">ansible_host</span> <span style="color: #bb4444;">}}"</span>
     tikuser: <span style="color: #bb4444;">"bwtest"</span>
     tikpw: <span style="color: #bb4444;">"bwpass"</span>
     tikbwhost: <span style="color: #bb4444;">"55.66.77.88"</span>
     tikduration: <span style="color: #bb4444;">"10"</span>
     tiktx: <span style="color: #bb4444;">"100M"</span>
     tikrx: <span style="color: #bb4444;">"100M"</span>
     tikdirection: <span style="color: #bb4444;">"both"</span>
     colon: <span style="color: #bb4444;">":"</span>

   tasks:
     - name: Disable 5GHz wlan interface
       raw: <span style="color: #bb4444;">"/interface</span> <span style="color: #bb4444;">wireless</span> <span style="color: #bb4444;">set</span> <span style="color: #bb4444;">[</span> <span style="color: #bb4444;">find</span> <span style="color: #bb4444;">default-name=wlan2</span> <span style="color: #bb4444;">]</span> <span style="color: #bb4444;">disabled=yes"</span>

     - name: Waiting for wireless connection to complete
       pause: seconds=5

     - name: Set static route for 2.4GHz testing
       raw: <span style="color: #bb4444;">"ip</span> <span style="color: #bb4444;">route</span> <span style="color: #bb4444;">set</span> <span style="color: #bb4444;">[/ip</span> <span style="color: #bb4444;">route</span> <span style="color: #bb4444;">find</span> <span style="color: #bb4444;">where</span> <span style="color: #bb4444;">comment=bwtest]</span> <span style="color: #bb4444;">gateway=[/ip</span> <span style="color: #bb4444;">dhcp-client</span> <span style="color: #bb4444;">get</span> <span style="color: #bb4444;">[find</span> <span style="color: #bb4444;">interface=wlan1]</span> <span style="color: #bb4444;">gateway]"</span>

     - name: Include TCP test instructions
       include: include/bwtest.yml tikproto="tcp" tikfreq="2.4GHz"

     - name: Include UDP test instructions
       include: include/bwtest.yml tikproto="udp" tikfreq="2.4GHz"

     - name: Disable 2.4GHz wlan interface
       raw: <span style="color: #bb4444;">"/interface</span> <span style="color: #bb4444;">wireless</span> <span style="color: #bb4444;">set</span> <span style="color: #bb4444;">[</span> <span style="color: #bb4444;">find</span> <span style="color: #bb4444;">default-name=wlan1</span> <span style="color: #bb4444;">]</span> <span style="color: #bb4444;">disabled=yes"</span>

     - name: Enable 5GHz wlan interface
       raw: <span style="color: #bb4444;">"/interface</span> <span style="color: #bb4444;">wireless</span> <span style="color: #bb4444;">set</span> <span style="color: #bb4444;">[</span> <span style="color: #bb4444;">find</span> <span style="color: #bb4444;">default-name=wlan2</span> <span style="color: #bb4444;">]</span> <span style="color: #bb4444;">disabled=no"</span>

     - name: Waiting for wireless connection to complete
       pause: seconds=5

     - name: Set static route for 5GHz testing
       raw: <span style="color: #bb4444;">"ip</span> <span style="color: #bb4444;">route</span> <span style="color: #bb4444;">set</span> <span style="color: #bb4444;">[/ip</span> <span style="color: #bb4444;">route</span> <span style="color: #bb4444;">find</span> <span style="color: #bb4444;">where</span> <span style="color: #bb4444;">comment=bwtest]</span> <span style="color: #bb4444;">gateway=[/ip</span> <span style="color: #bb4444;">dhcp-client</span> <span style="color: #bb4444;">get</span> <span style="color: #bb4444;">[find</span> <span style="color: #bb4444;">interface=wlan2]</span> <span style="color: #bb4444;">gateway]"</span>

     - name: Include TCP test instructions
       include: include/bwtest.yml tikproto="tcp" tikfreq="5GHz"

     - name: Include UDP test instructions
       include: include/bwtest.yml tikproto="udp" tikfreq="5GHz"

     - name: Enable 2.4GHz wlan interface
       raw: <span style="color: #bb4444;">"/interface</span> <span style="color: #bb4444;">wireless</span> <span style="color: #bb4444;">set</span> <span style="color: #bb4444;">[</span> <span style="color: #bb4444;">find</span> <span style="color: #bb4444;">default-name=wlan1</span> <span style="color: #bb4444;">]</span> <span style="color: #bb4444;">disabled=no"</span>
</pre>
</div>
<p>We run the bandwidth tests over TCP and UDP using 2.4GHz and 5Ghz. We move the static route around to select our benchmarking interface.</p>
<p>As shown in <b>Benchmark.yml</b> we also include a file called <b>bwtest.yml</b> that executes the actual testing command and formats the output. Including allow us to reuse code instead duplicating it in our playbook.</p>
<p><b>Bwtest.yml:</b><!-- HTML generated using hilite.me --></p>
<div style="background: #f8f8f8; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">- name: Random sleep so we don't DDoS the server
  local_action: shell sleep {{ item }}
  with_random_choice:
    - <span style="color: #bb4444;">"0s"</span>
    - <span style="color: #bb4444;">"5s"</span>
    - <span style="color: #bb4444;">"10s"</span>

- name: Connect to MT and run {{ tikproto }} bandwidth test over {{ tikfreq }}
  local_action: shell ./tikjson.rb {{ tikhost }} {{ tikuser }} {{ tikpw }} /tool/bandwidth-test =address={{ tikbwhost }} =duration={{ tikduration }} =direction={{ tikdirection }} =protocol={{ tikproto }} =local-tx-speed={{ tiktx }} =remote-tx-speed={{ tikrx }} | jq -c '.[][] | .' | sed 'x;$!d'
  register: cmd

- name: Copy JSON output to file
  local_action: copy content="{{ cmd.stdout }}" dest="output/bwtest_{{ tikproto }}_{{ tikhost }}.json"

- name: Rewrite tags in JSON 
  local_action: replace backup=no dest=output/bwtest_{{ tikproto }}_{{ tikhost }}.json regexp='.section' replace='section'
- name: Rewrite tags in JSON 
  local_action: replace backup=no dest=output/bwtest_{{ tikproto }}_{{ tikhost }}.json regexp='.tag' replace='tag'
- name: Rewrite tags in JSON 
  local_action: replace backup=no dest=output/bwtest_{{ tikproto }}_{{ tikhost }}.json regexp='!re' replace='proto'
- name: Rewrite tags in JSON
  local_action: replace backup=no dest=output/bwtest_{{ tikproto }}_{{ tikhost }}.json regexp='null' replace='"{{ tikproto }}"'
- name: Rewrite tags in JSON
  local_action: replace backup=no dest=output/bwtest_{{ tikproto }}_{{ tikhost }}.json regexp='}' replace=', "host"{{ colon }} "{{ tikhost }}", "freq"{{ colon }} "{{ tikfreq }}" }'

- name: Send JSON to log analyzer (Logstash)
  local_action: shell /bin/nc -q1 -w2 logstash.com 23777 &lt; output/bwtest_{{ tikproto }}_{{ tikhost }}.json
  ignore_errors: yes

- name: Send JSON to log analyzer (Splunk)
  local_action: shell /bin/nc -q1 -w2 splunk.com 23777 &lt; output/bwtest_{{ tikproto }}_{{ tikhost }}.json
  ignore_errors: yes</pre>
</div>
<p style="clear: both; text-align: left;">Here we invoke a MikroTik RouterOS API client written in Ruby (<a href="http://github.com/astounding/mtik">http://github.com/astounding/mtik</a>).</p>
<p style="clear: both; text-align: left;">These three YAML files put together produce the following JSON output:</p>
<div style="clear: both; text-align: left;"><!-- HTML generated using hilite.me --></div>
<div style="background: #f8f8f8; border-width: 0.1em 0.1em 0.1em 0.8em; border: solid gray; overflow: auto; padding: 0.2em 0.6em; width: auto;">
<pre style="line-height: 125%; margin: 0;">{
 <span style="color: green; font-weight: bold;">"status"</span>: <span style="color: #bb4444;">"done testing"</span>,
 <span style="color: green; font-weight: bold;">"tx-10-second-average"</span>: <span style="color: #bb4444;">"1680920"</span>,
 <span style="color: green; font-weight: bold;">"direction"</span>: <span style="color: #bb4444;">"both"</span>,
 <span style="color: green; font-weight: bold;">"tx-total-average"</span>: <span style="color: #bb4444;">"1680920"</span>,
 <span style="color: green; font-weight: bold;">"rx-10-second-average"</span>: <span style="color: #bb4444;">"501408"</span>,
 <span style="color: green; font-weight: bold;">"rx-total-average"</span>: <span style="color: #bb4444;">"501408"</span>,
 <span style="color: green; font-weight: bold;">"proto"</span>: <span style="color: #bb4444;">"tcp"</span>,
 <span style="color: green; font-weight: bold;">"duration"</span>: <span style="color: #bb4444;">"11s"</span>,
 <span style="color: green; font-weight: bold;">"tx-current"</span>: <span style="color: #bb4444;">"684832"</span>,
 <span style="color: green; font-weight: bold;">"random-data"</span>: <span style="color: #bb4444;">"false"</span>,
 <span style="color: green; font-weight: bold;">"section"</span>: <span style="color: #bb4444;">"11"</span>,
 <span style="color: green; font-weight: bold;">"tag"</span>: <span style="color: #bb4444;">"3"</span>,
 <span style="color: green; font-weight: bold;">"rx-current"</span>: <span style="color: #bb4444;">"341304"</span>,
 <span style="color: green; font-weight: bold;">"host"</span>: <span style="color: #bb4444;">"14.52.63.41"</span>,
 <span style="color: green; font-weight: bold;">"freq"</span>: <span style="color: #bb4444;">"5GHz"</span>
}</pre>
</div>
<p style="clear: both; text-align: left;">Now what?</p>
<p style="clear: both; text-align: left;">With this data sent to Logstash and Splunk we can finally produce some pretty graphs and gain some insights:</p>
<p style="clear: both; text-align: left;">Top performing wireless zone per protocol:</p>
<p style="clear: both; text-align: left;"><img class="alignnone wp-image-31 size-full" src="/wp-content/uploads/2016/03/tx_tot_avg_per_host_split_proto_2-1.png" alt="tx_tot_avg_per_host_split_proto_2" width="1188" height="463" srcset="/wp-content/uploads/2016/03/tx_tot_avg_per_host_split_proto_2-1.png 1188w, /wp-content/uploads/2016/03/tx_tot_avg_per_host_split_proto_2-1-300x117.png 300w, /wp-content/uploads/2016/03/tx_tot_avg_per_host_split_proto_2-1-768x299.png 768w, /wp-content/uploads/2016/03/tx_tot_avg_per_host_split_proto_2-1-1024x399.png 1024w, /wp-content/uploads/2016/03/tx_tot_avg_per_host_split_proto_2-1-676x263.png 676w" sizes="(max-width: 1188px) 100vw, 1188px" /></p>
<p style="clear: both; text-align: left;">Performance distribution per zone over time:</p>
<p style="clear: both; text-align: left;"><img class="alignnone wp-image-32 size-full" src="/wp-content/uploads/2016/03/tx_tot_distrib_2-1.png" alt="tx_tot_distrib_2" width="741" height="451" srcset="/wp-content/uploads/2016/03/tx_tot_distrib_2-1.png 741w, /wp-content/uploads/2016/03/tx_tot_distrib_2-1-300x183.png 300w, /wp-content/uploads/2016/03/tx_tot_distrib_2-1-676x411.png 676w" sizes="(max-width: 741px) 100vw, 741px" /></p>
<p style="clear: both; text-align: left;">Total Rx/Tx performance over time:</p>
<p style="clear: both; text-align: left;"><img class="alignnone wp-image-33 size-full" src="/wp-content/uploads/2016/03/rx_tx_tot_avg-1.png" alt="rx_tx_tot_avg" width="654" height="251" srcset="/wp-content/uploads/2016/03/rx_tx_tot_avg-1.png 654w, /wp-content/uploads/2016/03/rx_tx_tot_avg-1-300x115.png 300w" sizes="(max-width: 654px) 100vw, 654px" /></p>
<p style="clear: both; text-align: left;">We&#8217;ve only scratched the surface here, but you get the idea. Ansible allows you to automate just about anything and Kibana makes it look great 💪</p>
<p style="clear: both; text-align: left;">Check out my <a href="/consulting/">Consulting Services</a> if you&#8217;re interested in implementing something similar for your organization.</p>
<!-- Simple Share Buttons Adder (6.3.4) simplesharebuttons.com --><div class="ssba ssba-wrap"><div style="text-align:left"><br/><br/>Sharing is caring:<br/><a data-site="" class="ssba_facebook_share" href="http://www.facebook.com/sharer.php?u=/2016/03/measuring-wireless-performance-using-ansible-elastic-stack-and-mikrotik/"  target="_blank" ><img src="/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/facebook.png" title="Facebook" class="ssba ssba-img" alt="Share on Facebook" /></a><a data-site="" class="ssba_twitter_share" href="http://twitter.com/share?url=/2016/03/measuring-wireless-performance-using-ansible-elastic-stack-and-mikrotik/&amp;text=Measuring+wireless+performance+using+Ansible%2C+Elastic+Stack+and+MikroTik+"  target="_blank" ><img src="/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/twitter.png" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter" /></a><a data-site="linkedin" class="ssba_linkedin_share ssba_share_link" href="http://www.linkedin.com/shareArticle?mini=true&amp;url=/2016/03/measuring-wireless-performance-using-ansible-elastic-stack-and-mikrotik/"  target="_blank" ><img src="/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/linkedin.png" title="LinkedIn" class="ssba ssba-img" alt="Share on LinkedIn" /></a><a data-site="" class="ssba_google_share" href="https://plus.google.com/share?url=/2016/03/measuring-wireless-performance-using-ansible-elastic-stack-and-mikrotik/"  target="_blank" ><img src="/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/google.png" title="Google+" class="ssba ssba-img" alt="Share on Google+" /></a><a data-site="reddit" class="ssba_reddit_share" href="http://reddit.com/submit?url=/2016/03/measuring-wireless-performance-using-ansible-elastic-stack-and-mikrotik/&amp;title=Measuring wireless performance using Ansible, Elastic Stack and MikroTik"  target="_blank" ><img src="/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/reddit.png" title="Reddit" class="ssba ssba-img" alt="Share on Reddit" /></a><a data-site="tumblr" class="ssba_tumblr_share" href="http://www.tumblr.com/share/link?url=/2016/03/measuring-wireless-performance-using-ansible-elastic-stack-and-mikrotik/"  target="_blank" ><img src="/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/tumblr.png" title="tumblr" class="ssba ssba-img" alt="Share on Tumblr" /></a><a data-site="print" class="ssba_print ssba_share_link" href="#" onclick="window.print()"><img src="/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/print.png" title="Print" class="ssba ssba-img" alt="Print this page" /></a><a data-site="email" class="ssba_email_share" href="mailto:/?subject=Measuring%20wireless%20performance%20using%20Ansible,%20Elastic%20Stack%20and%20MikroTik&#038;body=%20/2016/03/measuring-wireless-performance-using-ansible-elastic-stack-and-mikrotik/"><img src="/wp-content/plugins/simple-share-buttons-adder/buttons/somacro/email.png" title="Email" class="ssba ssba-img" alt="Email this to someone" /></a></div></div>								
															        
					</div> <!-- /post-content -->
					            
					<div class="clear"></div>
					
					<div class="post-meta-bottom">
																		
						<p class="post-categories"><span class="category-icon"><span class="front-flap"></span></span> <a href="/category/ansible/" rel="category tag">ansible</a>, <a href="/category/automation/" rel="category tag">automation</a>, <a href="/category/elastic-stack/" rel="category tag">elastic stack</a>, <a href="/category/mikrotik/" rel="category tag">mikrotik</a></p>
						
						<p class="post-tags"><a href="/tag/ansible/" rel="tag">ansible</a><a href="/tag/automation/" rel="tag">automation</a><a href="/tag/elastic-stack/" rel="tag">elastic stack</a><a href="/tag/mikrotik/" rel="tag">mikrotik</a></p>						
						<div class="clear"></div>
												
						<div class="post-nav">
													
														
								<a class="post-nav-older" title="Previous post: GNSparser, now on Bitbucket" href="/2014/04/gnsparser-now-on-bitbucket/">
								
								<h5>Previous post</h5>																
								GNSparser, now on Bitbucket								
								</a>
						
														
															
								<a class="post-nav-newer" title="Next post: On-demand Juniper labs using Vagrant" href="/2016/04/on-demand-juniper-labs-using-vagrant/">
								
								<h5>Next post</h5>							
								On-demand Juniper labs using Vagrant								
								</a>
						
																					
							<div class="clear"></div>
						
						</div> <!-- /post-nav -->
											
					</div> <!-- /post-meta-bottom -->
					
					
		
		
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2016/03/measuring-wireless-performance-using-ansible-elastic-stack-and-mikrotik/#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="/wp-comments-post.php" method="post" id="commentform" class="comment-form">
				<p class="comment-notes">Your email address will not be published.</p><p class="comment-form-comment"><textarea id="comment" name="comment" cols="45" rows="6" required></textarea></p><p class="comment-form-author"><input id="author" name="author" type="text" placeholder="Name" value="" size="30" /><label for="author">Author</label> <span class="required">*</span></p>
<p class="comment-form-email"><input id="email" name="email" type="text" placeholder="Email" value="" size="30" /><label for="email">Email</label> <span class="required">*</span></p>
<p class="comment-form-url"><input id="url" name="url" type="text" placeholder="Website" value="" size="30" /><label for="url">Website</label></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='6' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p>			</form>
			</div><!-- #respond -->
													                        
			   	    
		
			</div> <!-- /post -->
			
		</div> <!-- /posts -->
	
	</div> <!-- /content -->
	
	
	<div class="sidebar right" role="complementary">
	
		<div class="widget widget_text"><div class="widget-content"><h3 class="widget-title">How to reach me</h3>			<div class="textwidget"><a href="http://linkedin.com/in/holmahenkel">
<img alt="Linkedin" src="http://blog.fredrikholmberg.com/wp-content/uploads/2016/04/social_linkedin.png" width="50"/></a>

&nbsp;&nbsp;

<a href="http://twitter.com/holmahenkel">
<img alt="Twitter" src="http://blog.fredrikholmberg.com/wp-content/uploads/2016/04/social_twitter.png" width="50"/></a>

&nbsp;&nbsp;

<a href="http://www.facebook.com/holmahenkel">
<img alt="Facebook" src="http://blog.fredrikholmberg.com/wp-content/uploads/2016/04/social_facebook.png" width="50"/></a>

<br/>

<a href="https://plus.google.com/+FredrikHolmberg">
<img alt="Google+" src="http://blog.fredrikholmberg.com/wp-content/uploads/2016/04/social_google.png" width="50"/></a>

&nbsp;&nbsp;

<a href="http://instagram.com/holmahenkel">
<img alt="Instagram" src="http://blog.fredrikholmberg.com/wp-content/uploads/2016/04/social_instagram.png" width="50"/></a>

&nbsp;&nbsp;

<a href="mailto:mail@fredrikholmberg.com">
<img alt="Email" src="http://blog.fredrikholmberg.com/wp-content/uploads/2016/04/social_email.png" width="50"/></a>
</div>
		</div><div class="clear"></div></div>		<div class="widget widget_recent_entries"><div class="widget-content">		<h3 class="widget-title">Recent Posts</h3>		<ul>
					<li>
				<a href="/2016/11/packet-analysis-challenge-2-solution/">Packet Analysis Challenge #2 – Solution</a>
						</li>
					<li>
				<a href="/2016/10/packet-analysis-challenge-2/">Packet Analysis Challenge #2</a>
						</li>
					<li>
				<a href="/2016/09/network-automation-day/">Network Automation Day</a>
						</li>
					<li>
				<a href="/2016/08/packet-analysis-challenge-1-solution/">Packet Analysis Challenge #1 &#8211; Solution</a>
						</li>
					<li>
				<a href="/2016/08/packet-analysis-challenge-1/">Packet Analysis Challenge #1</a>
						</li>
					<li>
				<a href="/2016/06/consulting-services/">Consulting Services</a>
						</li>
					<li>
				<a href="/2016/05/app-troubleshooting-using-wireshark/">App troubleshooting using Wireshark</a>
						</li>
					<li>
				<a href="/2016/05/slapstick/">Slapstick</a>
						</li>
					<li>
				<a href="/2016/04/connecting-our-juniper-lab-to-the-world/">Connecting our Juniper lab to the world</a>
						</li>
					<li>
				<a href="/2016/04/on-demand-juniper-labs-using-vagrant/">On-demand Juniper labs using Vagrant</a>
						</li>
				</ul>
		</div><div class="clear"></div></div>		<div class="widget widget_archive"><div class="widget-content"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='/2016/11/'>November 2016</a></li>
	<li><a href='/2016/10/'>October 2016</a></li>
	<li><a href='/2016/09/'>September 2016</a></li>
	<li><a href='/2016/08/'>August 2016</a></li>
	<li><a href='/2016/06/'>June 2016</a></li>
	<li><a href='/2016/05/'>May 2016</a></li>
	<li><a href='/2016/04/'>April 2016</a></li>
	<li><a href='/2016/03/'>March 2016</a></li>
	<li><a href='/2014/04/'>April 2014</a></li>
	<li><a href='/2013/11/'>November 2013</a></li>
	<li><a href='/2013/08/'>August 2013</a></li>
	<li><a href='/2012/07/'>July 2012</a></li>
	<li><a href='/2012/05/'>May 2012</a></li>
	<li><a href='/2012/04/'>April 2012</a></li>
	<li><a href='/2012/03/'>March 2012</a></li>
		</ul>
		</div><div class="clear"></div></div><div class="widget widget_tag_cloud"><div class="widget-content"><h3 class="widget-title">Tags</h3><div class="tagcloud"><a href='/tag/6to4/' class='tag-link-42 tag-link-position-1' title='1 topic' style='font-size: 8pt;'>6to4</a>
<a href='/tag/ansible/' class='tag-link-56 tag-link-position-2' title='2 topics' style='font-size: 12.2pt;'>ansible</a>
<a href='/tag/automation/' class='tag-link-41 tag-link-position-3' title='7 topics' style='font-size: 22pt;'>automation</a>
<a href='/tag/ccna/' class='tag-link-31 tag-link-position-4' title='1 topic' style='font-size: 8pt;'>ccna</a>
<a href='/tag/ccnp/' class='tag-link-36 tag-link-position-5' title='4 topics' style='font-size: 17.333333333333pt;'>ccnp</a>
<a href='/tag/challenge/' class='tag-link-72 tag-link-position-6' title='3 topics' style='font-size: 15pt;'>challenge</a>
<a href='/tag/digital-ocean/' class='tag-link-50 tag-link-position-7' title='1 topic' style='font-size: 8pt;'>digital ocean</a>
<a href='/tag/dynagen/' class='tag-link-51 tag-link-position-8' title='2 topics' style='font-size: 12.2pt;'>dynagen</a>
<a href='/tag/elastic-stack/' class='tag-link-57 tag-link-position-9' title='1 topic' style='font-size: 8pt;'>elastic stack</a>
<a href='/tag/frame-relay/' class='tag-link-37 tag-link-position-10' title='1 topic' style='font-size: 8pt;'>frame relay</a>
<a href='/tag/gns3/' class='tag-link-52 tag-link-position-11' title='3 topics' style='font-size: 15pt;'>gns3</a>
<a href='/tag/gnsparser/' class='tag-link-54 tag-link-position-12' title='2 topics' style='font-size: 12.2pt;'>gnsparser</a>
<a href='/tag/icmpv6/' class='tag-link-47 tag-link-position-13' title='1 topic' style='font-size: 8pt;'>icmpv6</a>
<a href='/tag/ios/' class='tag-link-69 tag-link-position-14' title='1 topic' style='font-size: 8pt;'>ios</a>
<a href='/tag/ipv4/' class='tag-link-32 tag-link-position-15' title='2 topics' style='font-size: 12.2pt;'>ipv4</a>
<a href='/tag/ipv6/' class='tag-link-43 tag-link-position-16' title='3 topics' style='font-size: 15pt;'>ipv6</a>
<a href='/tag/juniper/' class='tag-link-65 tag-link-position-17' title='3 topics' style='font-size: 15pt;'>juniper</a>
<a href='/tag/lab/' class='tag-link-53 tag-link-position-18' title='4 topics' style='font-size: 17.333333333333pt;'>lab</a>
<a href='/tag/loopback/' class='tag-link-39 tag-link-position-19' title='2 topics' style='font-size: 12.2pt;'>loopback</a>
<a href='/tag/mask/' class='tag-link-33 tag-link-position-20' title='1 topic' style='font-size: 8pt;'>mask</a>
<a href='/tag/mikrotik/' class='tag-link-58 tag-link-position-21' title='1 topic' style='font-size: 8pt;'>mikrotik</a>
<a href='/tag/ndp/' class='tag-link-48 tag-link-position-22' title='1 topic' style='font-size: 8pt;'>ndp</a>
<a href='/tag/ospf/' class='tag-link-45 tag-link-position-23' title='1 topic' style='font-size: 8pt;'>ospf</a>
<a href='/tag/ospfv3/' class='tag-link-46 tag-link-position-24' title='1 topic' style='font-size: 8pt;'>ospfv3</a>
<a href='/tag/packet-analysis/' class='tag-link-77 tag-link-position-25' title='3 topics' style='font-size: 15pt;'>packet analysis</a>
<a href='/tag/scripting/' class='tag-link-55 tag-link-position-26' title='1 topic' style='font-size: 8pt;'>scripting</a>
<a href='/tag/slaac/' class='tag-link-49 tag-link-position-27' title='1 topic' style='font-size: 8pt;'>slaac</a>
<a href='/tag/subinterfaces/' class='tag-link-38 tag-link-position-28' title='1 topic' style='font-size: 8pt;'>subinterfaces</a>
<a href='/tag/subnet/' class='tag-link-34 tag-link-position-29' title='1 topic' style='font-size: 8pt;'>subnet</a>
<a href='/tag/subnetting/' class='tag-link-35 tag-link-position-30' title='1 topic' style='font-size: 8pt;'>subnetting</a>
<a href='/tag/tcl/' class='tag-link-40 tag-link-position-31' title='2 topics' style='font-size: 12.2pt;'>tcl</a>
<a href='/tag/tls/' class='tag-link-71 tag-link-position-32' title='1 topic' style='font-size: 8pt;'>tls</a>
<a href='/tag/troubleshooting/' class='tag-link-70 tag-link-position-33' title='1 topic' style='font-size: 8pt;'>troubleshooting</a>
<a href='/tag/tunneling/' class='tag-link-44 tag-link-position-34' title='1 topic' style='font-size: 8pt;'>tunneling</a>
<a href='/tag/vagrant/' class='tag-link-66 tag-link-position-35' title='1 topic' style='font-size: 8pt;'>vagrant</a>
<a href='/tag/wireshark/' class='tag-link-68 tag-link-position-36' title='5 topics' style='font-size: 19.2pt;'>wireshark</a>
<a href='/tag/wiresharklympics/' class='tag-link-78 tag-link-position-37' title='3 topics' style='font-size: 15pt;'>wiresharklympics</a></div>
</div><div class="clear"></div></div>		
	</div><!-- /sidebar -->

	
	<div class="clear"></div>
	
</div> <!-- /wrapper -->
		
	<div class="footer section large-padding bg-dark">
		
		<div class="footer-inner section-inner">
		
						
				<div class="column column-1 left">
				
					<div class="widgets">
			
								<div class="widget widget_recent_entries"><div class="widget-content">		<h3 class="widget-title">Recent Posts</h3>		<ul>
					<li>
				<a href="/2016/11/packet-analysis-challenge-2-solution/">Packet Analysis Challenge #2 – Solution</a>
						</li>
					<li>
				<a href="/2016/10/packet-analysis-challenge-2/">Packet Analysis Challenge #2</a>
						</li>
					<li>
				<a href="/2016/09/network-automation-day/">Network Automation Day</a>
						</li>
					<li>
				<a href="/2016/08/packet-analysis-challenge-1-solution/">Packet Analysis Challenge #1 &#8211; Solution</a>
						</li>
					<li>
				<a href="/2016/08/packet-analysis-challenge-1/">Packet Analysis Challenge #1</a>
						</li>
					<li>
				<a href="/2016/06/consulting-services/">Consulting Services</a>
						</li>
					<li>
				<a href="/2016/05/app-troubleshooting-using-wireshark/">App troubleshooting using Wireshark</a>
						</li>
					<li>
				<a href="/2016/05/slapstick/">Slapstick</a>
						</li>
					<li>
				<a href="/2016/04/connecting-our-juniper-lab-to-the-world/">Connecting our Juniper lab to the world</a>
						</li>
					<li>
				<a href="/2016/04/on-demand-juniper-labs-using-vagrant/">On-demand Juniper labs using Vagrant</a>
						</li>
					<li>
				<a href="/2016/03/measuring-wireless-performance-using-ansible-elastic-stack-and-mikrotik/">Measuring wireless performance using Ansible, Elastic Stack and MikroTik</a>
						</li>
				</ul>
		</div><div class="clear"></div></div>													
					</div>
					
				</div>
				
			 <!-- /footer-a -->
				
						
				<div class="column column-2 left">
				
					<div class="widgets">
			
						<div class="widget widget_tag_cloud"><div class="widget-content"><h3 class="widget-title">Tags</h3><div class="tagcloud"><a href='/tag/6to4/' class='tag-link-42 tag-link-position-1' title='1 topic' style='font-size: 8pt;'>6to4</a>
<a href='/tag/ansible/' class='tag-link-56 tag-link-position-2' title='2 topics' style='font-size: 12.2pt;'>ansible</a>
<a href='/tag/automation/' class='tag-link-41 tag-link-position-3' title='7 topics' style='font-size: 22pt;'>automation</a>
<a href='/tag/ccna/' class='tag-link-31 tag-link-position-4' title='1 topic' style='font-size: 8pt;'>ccna</a>
<a href='/tag/ccnp/' class='tag-link-36 tag-link-position-5' title='4 topics' style='font-size: 17.333333333333pt;'>ccnp</a>
<a href='/tag/challenge/' class='tag-link-72 tag-link-position-6' title='3 topics' style='font-size: 15pt;'>challenge</a>
<a href='/tag/digital-ocean/' class='tag-link-50 tag-link-position-7' title='1 topic' style='font-size: 8pt;'>digital ocean</a>
<a href='/tag/dynagen/' class='tag-link-51 tag-link-position-8' title='2 topics' style='font-size: 12.2pt;'>dynagen</a>
<a href='/tag/elastic-stack/' class='tag-link-57 tag-link-position-9' title='1 topic' style='font-size: 8pt;'>elastic stack</a>
<a href='/tag/frame-relay/' class='tag-link-37 tag-link-position-10' title='1 topic' style='font-size: 8pt;'>frame relay</a>
<a href='/tag/gns3/' class='tag-link-52 tag-link-position-11' title='3 topics' style='font-size: 15pt;'>gns3</a>
<a href='/tag/gnsparser/' class='tag-link-54 tag-link-position-12' title='2 topics' style='font-size: 12.2pt;'>gnsparser</a>
<a href='/tag/icmpv6/' class='tag-link-47 tag-link-position-13' title='1 topic' style='font-size: 8pt;'>icmpv6</a>
<a href='/tag/ios/' class='tag-link-69 tag-link-position-14' title='1 topic' style='font-size: 8pt;'>ios</a>
<a href='/tag/ipv4/' class='tag-link-32 tag-link-position-15' title='2 topics' style='font-size: 12.2pt;'>ipv4</a>
<a href='/tag/ipv6/' class='tag-link-43 tag-link-position-16' title='3 topics' style='font-size: 15pt;'>ipv6</a>
<a href='/tag/juniper/' class='tag-link-65 tag-link-position-17' title='3 topics' style='font-size: 15pt;'>juniper</a>
<a href='/tag/lab/' class='tag-link-53 tag-link-position-18' title='4 topics' style='font-size: 17.333333333333pt;'>lab</a>
<a href='/tag/loopback/' class='tag-link-39 tag-link-position-19' title='2 topics' style='font-size: 12.2pt;'>loopback</a>
<a href='/tag/mask/' class='tag-link-33 tag-link-position-20' title='1 topic' style='font-size: 8pt;'>mask</a>
<a href='/tag/mikrotik/' class='tag-link-58 tag-link-position-21' title='1 topic' style='font-size: 8pt;'>mikrotik</a>
<a href='/tag/ndp/' class='tag-link-48 tag-link-position-22' title='1 topic' style='font-size: 8pt;'>ndp</a>
<a href='/tag/ospf/' class='tag-link-45 tag-link-position-23' title='1 topic' style='font-size: 8pt;'>ospf</a>
<a href='/tag/ospfv3/' class='tag-link-46 tag-link-position-24' title='1 topic' style='font-size: 8pt;'>ospfv3</a>
<a href='/tag/packet-analysis/' class='tag-link-77 tag-link-position-25' title='3 topics' style='font-size: 15pt;'>packet analysis</a>
<a href='/tag/scripting/' class='tag-link-55 tag-link-position-26' title='1 topic' style='font-size: 8pt;'>scripting</a>
<a href='/tag/slaac/' class='tag-link-49 tag-link-position-27' title='1 topic' style='font-size: 8pt;'>slaac</a>
<a href='/tag/subinterfaces/' class='tag-link-38 tag-link-position-28' title='1 topic' style='font-size: 8pt;'>subinterfaces</a>
<a href='/tag/subnet/' class='tag-link-34 tag-link-position-29' title='1 topic' style='font-size: 8pt;'>subnet</a>
<a href='/tag/subnetting/' class='tag-link-35 tag-link-position-30' title='1 topic' style='font-size: 8pt;'>subnetting</a>
<a href='/tag/tcl/' class='tag-link-40 tag-link-position-31' title='2 topics' style='font-size: 12.2pt;'>tcl</a>
<a href='/tag/tls/' class='tag-link-71 tag-link-position-32' title='1 topic' style='font-size: 8pt;'>tls</a>
<a href='/tag/troubleshooting/' class='tag-link-70 tag-link-position-33' title='1 topic' style='font-size: 8pt;'>troubleshooting</a>
<a href='/tag/tunneling/' class='tag-link-44 tag-link-position-34' title='1 topic' style='font-size: 8pt;'>tunneling</a>
<a href='/tag/vagrant/' class='tag-link-66 tag-link-position-35' title='1 topic' style='font-size: 8pt;'>vagrant</a>
<a href='/tag/wireshark/' class='tag-link-68 tag-link-position-36' title='5 topics' style='font-size: 19.2pt;'>wireshark</a>
<a href='/tag/wiresharklympics/' class='tag-link-78 tag-link-position-37' title='3 topics' style='font-size: 15pt;'>wiresharklympics</a></div>
</div><div class="clear"></div></div>											
					</div> <!-- /widgets -->
					
				</div>
				
			 <!-- /footer-b -->
								
						
				<div class="column column-3 left">
			
					<div class="widgets">
			
						<div class="widget widget_text"><div class="widget-content"><h3 class="widget-title">SYN-ACK</h3>			<div class="textwidget"><p>I'm an independent Network Consultant with 10 years of experience working with some of the largest clients in the Nordics ranging from banking, hospitality and telecom to governmental and public institutions.</p>
<p>Challenges are what drives me. Creating things. Challenges that allow a combination of networking skills with other disciplines such as monitoring, log analysis, DevOps and IT automation concepts.</p>
</div>
		</div><div class="clear"></div></div><div class="widget widget_text"><div class="widget-content"><h3 class="widget-title">Certifications</h3>			<div class="textwidget"><p>Juniper JNCIP-ENT<br />
Juniper JNCDA<br />
Cisco CCNP R&S<br />
Cisco CCNA Security<br />
HP AIS 2011<br />
Fortinet FCNSP v4.x</p>
</div>
		</div><div class="clear"></div></div>											
					</div> <!-- /widgets -->
					
				</div>
				
			 <!-- /footer-c -->
			
			<div class="clear"></div>
		
		</div> <!-- /footer-inner -->
	
	</div> <!-- /footer -->
	
	<div class="credits section bg-dark no-padding">
	
		<div class="credits-inner section-inner">
	
			<p class="credits-left">
			
				&copy; 2017 <a href="/" title="Fredrik Holmberg">Fredrik Holmberg</a>
			
			</p>
			
			<p class="credits-right">
				
				<span>Theme by <a href="http://www.andersnoren.se/">Anders Noren</a></span> &mdash; <a title="To the top" class="tothetop">Up &uarr;</a>
				
			</p>
			
			<div class="clear"></div>
		
		</div> <!-- /credits-inner -->
		
	</div> <!-- /credits -->

</div> <!-- /big-wrapper -->

<script type='text/javascript' src='/wp-includes/js/comment-reply.min.js?ver=4.7.3'></script>
<script type='text/javascript' src='/wp-content/plugins/simple-share-buttons-adder/js/ssba.min.js?ver=4.7.3'></script>
<script type='text/javascript' src='/wp-content/themes/hemingway/js/global.js?ver=4.7.3'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.7.3'></script>

</body>
</html>